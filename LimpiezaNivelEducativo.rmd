---
title: "Limpieza Nivel Educativo"
author: "Shayury Chavez"
date: "27/9/2020"
output: html_document
---

---
title: "Limpieza Nivel Educativo"
author: "Shayury Chavez"
date: "27/9/2020"
output: html_document
---

#Limpieza de data de Nivel Educativo

Traemos la data de Github
```{r}
library(rio)
linkNivelEducativo='https://github.com/ShayuryChavezV/TrabajoG/blob/master/NivelEducativo.xlsx?raw=true'
NivelEducativo=import(linkNivelEducativo)
```

Eliminamos las columnas y filas innecesarias
```{r}
NivelEducativo=NivelEducativo[-c(1:7),]
NivelEducativo$'Área Geográfica'=NULL
NivelEducativo=NivelEducativo[-c(197:202),]
```

Cambiamos de nombre a las columnas

```{r}
names(NivelEducativo)[1]='Provincia'
names(NivelEducativo)[2]='SinNivel'
names(NivelEducativo)[3]='Inicial'
names(NivelEducativo)[4]='Primaria'
names(NivelEducativo)[5]='Secundaria'
names(NivelEducativo)[6]='BasicaEspecial'
names(NivelEducativo)[7]='SuperiorNoUniversitariaIncompleta'
names(NivelEducativo)[8]='SuperiorNoUniversitariacompleta'
names(NivelEducativo)[9]='SuperiorUniversitariaIncompleta'
names(NivelEducativo)[10]='SuperiorUniversitariacompleta'
names(NivelEducativo)[11]='MaestriaDoctorado'
names(NivelEducativo)[12]='Total'
```

Usamos el codigo str_split para dividir la columna Provincia, usando como patrón los dos puntos (:)
```{r}
library(stringr)
str_split(string = NivelEducativo$Provincia,
          pattern = ':',
          simplify=T)
NivelEducativo$Provincia=str_split(string = NivelEducativo$Provincia,
          pattern = ':',
          simplify=T)[,2]
NivelEducativo$Provincia
```

Eliminamos los espacios hallados en los nombres de la columna Provincia
```{r}
gsub(' ',"",NivelEducativo$Provincia)
NivelEducativo$Provincia = gsub('',"",NivelEducativo$Provincia)
NivelEducativo$Provincia

NivelEducativo[,c(2:12)]=lapply(NivelEducativo[,c(2:12)],as.numeric)
```

Añadimos nombre a las filas restantes
```{r}
NivelEducativo[145,1]="Manu"
NivelEducativo[146,1]="Tahuamanu"
NivelEducativo[147,1]="Tambopata"
NivelEducativo[162,1]="Callao"
#necesario eliminar el Total de EDU para el MERGE FINAL
EDU$Total=NULL
```


Exportamos

```{r}
export(NivelEducativo, "NEducativo.csv")
```
